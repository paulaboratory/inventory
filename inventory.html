<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Inventory App with Share Link</title>
  <style>
    /* Base Styles */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f2f5;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    /* Header with Title and Icon Buttons */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    .header h1 {
      margin: 0;
      color: #333;
    }
    .header-icons {
      display: flex;
      gap: 10px;
    }
    .header-icons button {
      background: transparent;
      border: none;
      font-size: 1.8em;
      cursor: pointer;
      transition: transform 0.2s;
      color: #007bff;
    }
    .header-icons button:hover {
      transform: scale(1.1);
    }
    /* Main Tabs */
    .tabs {
      display: flex;
      border-bottom: 2px solid #ddd;
      margin-bottom: 20px;
    }
    .tab {
      flex: 1;
      text-align: center;
      padding: 12px;
      cursor: pointer;
      font-weight: bold;
      color: #555;
      transition: color 0.3s;
    }
    .tab.active {
      border-bottom: 3px solid #007bff;
      color: #007bff;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    /* Category Sub-Tabs in Inventory Tab */
    .sub-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }
    .category-tab {
      padding: 8px 12px;
      border: 1px solid #007bff;
      border-radius: 4px;
      cursor: pointer;
      background: #fff;
      color: #007bff;
      transition: background 0.3s, color 0.3s;
    }
    .category-tab.active {
      background: #007bff;
      color: #fff;
    }
    /* Inventory Cards */
    #inventory-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 15px;
    }
    .inventory-card {
      position: relative;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      transition: transform 0.2s;
    }
    .inventory-card:hover {
      transform: translateY(-3px);
    }
    .inventory-card img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 4px;
      margin-bottom: 10px;
    }
    .inventory-card h3 {
      margin: 0;
      font-size: 1.2em;
      color: #333;
    }
    .inventory-card p {
      margin: 5px 0;
      color: #666;
    }
    .card-actions {
      position: absolute;
      top: 8px;
      right: 8px;
      display: flex;
      gap: 5px;
    }
    .card-actions button {
      background: transparent;
      border: none;
      cursor: pointer;
      font-size: 1.2em;
      color: #007bff;
      transition: color 0.3s;
    }
    .card-actions button:hover {
      color: #0056b3;
    }
    /* Modal Styles */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .modal.active {
      display: flex;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    .modal-content h2 {
      margin-top: 0;
      color: #333;
    }
    .modal-content .form-group {
      margin-bottom: 12px;
    }
    .modal-content label {
      display: block;
      margin-bottom: 4px;
      color: #333;
    }
    .modal-content input, .modal-content select {
      width: 100%;
      padding: 8px;
      margin-bottom: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .modal-content .modal-buttons {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }
    .modal-content button {
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      background: #007bff;
      color: #fff;
      transition: background 0.3s;
    }
    .modal-content button:hover {
      background: #0056b3;
    }
    /* Form Styles for New Item Tab */
    .form-group {
      margin-bottom: 12px;
    }
    label {
      display: block;
      margin-bottom: 4px;
      color: #555;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      font-size: 1em;
      margin-bottom: 8px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      background: #007bff;
      color: #fff;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #0056b3;
    }
    datalist {
      font-size: 1em;
    }
    /* Night Mode Styles */
    .night-mode body {
      background: #121212;
      color: #e0e0e0;
    }
    .night-mode .container {
      background: #1e1e1e;
      box-shadow: none;
    }
    .night-mode h1, .night-mode h2 {
      color: #fff;
    }
    .night-mode label {
      color: #e0e0e0;
    }
    .night-mode .inventory-card h3 {
      color: #fff;
    }
    .night-mode input, .night-mode select {
      background: #333;
      color: #e0e0e0;
      border-color: #444;
    }
    .night-mode button {
      background: #bb86fc;
      color: #121212;
    }
    .night-mode button:hover {
      background: #985eff;
    }
    .night-mode .tab {
      color: #aaa;
    }
    .night-mode .tab.active {
      border-bottom-color: #bb86fc;
      color: #fff;
    }
    .night-mode .category-tab {
      background: #333;
      color: #ccc;
      border-color: #555;
    }
    .night-mode .category-tab.active {
      background: #bb86fc;
      color: #121212;
    }
    .night-mode .modal-content {
      background: #2a2a2a;
      color: #e0e0e0;
    }
    .night-mode .modal-content label, 
    .night-mode .modal-content h2 {
      color: #e0e0e0;
    }
    .night-mode .modal-content input, 
    .night-mode .modal-content select {
      background: #444;
      color: #e0e0e0;
      border-color: #555;
    }
    .night-mode .error-message {
      color: #ffcc00;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header with Title and Icon Buttons -->
    <div class="header">
      <h1>Inventory App</h1>
      <div class="header-icons">
        <button id="btn-save-backup" title="Save Backup">💾</button>
        <button id="btn-load-backup" title="Load Backup">📂</button>
        <button id="btn-share" title="Share Inventory">🔗</button>
        <button id="nightModeToggle" title="Toggle Dark Mode">🌙</button>
        <input type="file" id="backup-file" accept=".txt" style="display: none;">
      </div>
    </div>
    
    <!-- Main Tabs -->
    <div class="tabs">
      <div id="tab-inventory" class="tab active">Inventory</div>
      <div id="tab-inout" class="tab">In/Out Items</div>
      <div id="tab-new" class="tab">New Item</div>
    </div>
    
    <!-- Inventory Tab -->
    <div id="content-inventory" class="tab-content active">
      <h2>Inventory</h2>
      <!-- Category Sub-Tabs -->
      <div id="category-tabs" class="sub-tabs"></div>
      <!-- Inventory List -->
      <div id="inventory-list"></div>
    </div>
    
    <!-- In/Out Items Tab -->
    <div id="content-inout" class="tab-content">
      <h2>In/Out Items</h2>
      <div class="form-group">
        <label for="inout-category">Select Category:</label>
        <select id="inout-category"></select>
      </div>
      <div class="form-group">
        <label for="inout-item">Select Item:</label>
        <select id="inout-item"></select>
      </div>
      <div class="form-group">
        <label for="inout-qty">Quantity:</label>
        <input type="number" id="inout-qty" value="1" min="1">
      </div>
      <button id="btn-add">Add</button>
      <button id="btn-remove">Remove</button>
    </div>
    
    <!-- New Item Tab -->
    <div id="content-new" class="tab-content">
      <h2>New Item</h2>
      <div class="form-group">
        <label for="new-name">Item Name:</label>
        <input type="text" id="new-name" list="nameList">
        <datalist id="nameList"></datalist>
      </div>
      <div class="form-group">
        <label for="new-category">Category:</label>
        <input type="text" id="new-category" list="categoryList">
        <datalist id="categoryList"></datalist>
      </div>
      <div class="form-group">
        <label for="new-qty">Quantity:</label>
        <input type="number" id="new-qty" value="1" min="1">
      </div>
      <div class="form-group">
        <label for="new-image">Upload Image:</label>
        <input type="file" id="new-image" accept="image/*">
      </div>
      <button id="btn-new-add">Add New Item</button>
    </div>
  </div>
  
  <!-- Confirmation Modal for Removal -->
  <div id="confirm-modal" class="modal">
    <div class="modal-content">
      <h2>Confirm Removal</h2>
      <p id="confirm-message">Are you sure you want to remove this item?</p>
      <div class="modal-buttons">
        <button id="confirm-ok">OK</button>
        <button id="confirm-cancel">Cancel</button>
      </div>
    </div>
  </div>
  
  <!-- Edit Modal for Editing an Item (Name & Category Only) -->
  <div id="edit-modal" class="modal">
    <div class="modal-content">
      <h2>Edit Item</h2>
      <div class="form-group">
        <label for="edit-name">Item Name:</label>
        <input type="text" id="edit-name">
      </div>
      <div class="form-group">
        <label for="edit-category">Category:</label>
        <input type="text" id="edit-category">
      </div>
      <div class="modal-buttons">
        <button id="edit-save">Save</button>
        <button id="edit-cancel">Cancel</button>
      </div>
    </div>
  </div>
  
  <script>
    // Inventory storage: each item has a unique name (one category), quantity, and optional image.
    let inventory = [];
    let nextId = 1;
    let activeCategoryTab = "All";
    let currentRemoveId = null;
    let currentEditId = null;
    
    // Header Backup, Share, and Dark Mode Controls
    const btnSaveBackup = document.getElementById('btn-save-backup');
    const btnLoadBackup = document.getElementById('btn-load-backup');
    const btnShare = document.getElementById('btn-share');
    const backupFileInput = document.getElementById('backup-file');
    const nightModeToggle = document.getElementById('nightModeToggle');
    
    btnSaveBackup.addEventListener('click', () => {
      const dataStr = JSON.stringify(inventory, null, 2);
      const blob = new Blob([dataStr], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'inventory_backup.txt';
      a.click();
      URL.revokeObjectURL(url);
    });
    
    btnLoadBackup.addEventListener('click', () => {
      backupFileInput.click();
    });
    
    backupFileInput.addEventListener('change', (event) => {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const loadedInventory = JSON.parse(e.target.result);
          if (Array.isArray(loadedInventory)) {
            inventory = loadedInventory;
            nextId = inventory.reduce((max, item) => Math.max(max, item.id), 0) + 1;
            renderCategoryTabs();
            updateInventoryDisplay();
            updateInOutCategories();
            updateInOutItems();
            updateNewItemDatalists();
          } else {
            alert('Invalid backup file format.');
          }
        } catch (err) {
          alert('Error reading backup file.');
        }
      };
      reader.readAsText(file);
    });
    
    btnShare.addEventListener('click', () => {
      const dataStr = JSON.stringify(inventory);
      const encodedData = btoa(dataStr);
      const shareableLink = window.location.origin + window.location.pathname + '?data=' + encodeURIComponent(encodedData);
      navigator.clipboard.writeText(shareableLink).then(() => {
        alert('Shareable link copied to clipboard:\n' + shareableLink);
      }).catch(err => {
        prompt('Copy this link:', shareableLink);
      });
    });
    
    nightModeToggle.addEventListener('click', () => {
      document.body.classList.toggle('night-mode');
      nightModeToggle.textContent = document.body.classList.contains('night-mode') ? '☀️' : '🌙';
    });
    
    // On page load, check if a share link is provided via URL.
    // If so, load the shared inventory and hide all non-readonly features.
    function loadSharedInventory() {
      const params = new URLSearchParams(window.location.search);
      const dataParam = params.get('data');
      if (dataParam) {
        try {
          const decoded = atob(dataParam);
          const sharedInventory = JSON.parse(decoded);
          if (Array.isArray(sharedInventory)) {
            inventory = sharedInventory;
            nextId = inventory.reduce((max, item) => Math.max(max, item.id), 0) + 1;
            // Hide non-inventory features for shared view
            document.getElementById('tab-inout').style.display = 'none';
            document.getElementById('tab-new').style.display = 'none';
            document.getElementById('content-inout').style.display = 'none';
            document.getElementById('content-new').style.display = 'none';
            document.getElementById('btn-save-backup').style.display = 'none';
            document.getElementById('btn-load-backup').style.display = 'none';
            document.getElementById('btn-share').style.display = 'none';
            // Activate Inventory tab
            document.getElementById('tab-inventory').click();
          }
        } catch (err) {
          console.error('Error decoding shared inventory:', err);
        }
      }
    }
    window.addEventListener('load', loadSharedInventory);
    
    // Main Tab Switching
    const tabs = document.querySelectorAll('.tab');
    const contents = document.querySelectorAll('.tab-content');
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        contents.forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        const contentId = 'content-' + tab.id.split('-')[1];
        document.getElementById(contentId).classList.add('active');
        if (tab.id === 'tab-inventory' || tab.id === 'tab-inout') {
          renderCategoryTabs();
          updateInventoryDisplay();
          updateInOutCategories();
          updateInOutItems();
          updateNewItemDatalists();
        }
      });
    });
    
    // DOM Elements for Inventory Tab
    const categoryTabsDiv = document.getElementById('category-tabs');
    const inventoryListDiv = document.getElementById('inventory-list');
    
    // DOM Elements for In/Out Items Tab
    const inoutCategorySelect = document.getElementById('inout-category');
    const inoutItemSelect = document.getElementById('inout-item');
    const inoutQty = document.getElementById('inout-qty');
    const btnAdd = document.getElementById('btn-add');
    const btnRemove = document.getElementById('btn-remove');
    
    // DOM Elements for New Item Tab
    const newName = document.getElementById('new-name');
    const newCategory = document.getElementById('new-category');
    const newQty = document.getElementById('new-qty');
    const newImage = document.getElementById('new-image');
    const btnNewAdd = document.getElementById('btn-new-add');
    const nameList = document.getElementById('nameList');
    const categoryList = document.getElementById('categoryList');
    
    // DOM Elements for Modals
    const confirmModal = document.getElementById('confirm-modal');
    const confirmMessage = document.getElementById('confirm-message');
    const confirmOk = document.getElementById('confirm-ok');
    const confirmCancel = document.getElementById('confirm-cancel');
    
    const editModal = document.getElementById('edit-modal');
    const editName = document.getElementById('edit-name');
    const editCategory = document.getElementById('edit-category');
    const editSave = document.getElementById('edit-save');
    const editCancel = document.getElementById('edit-cancel');
    
    // Prevent duplicate item names (case-insensitive)
    function isDuplicateItem(name) {
      return inventory.some(item => item.name.toLowerCase() === name.toLowerCase());
    }
    
    // Function to update datalists for New Item Tab suggestions
    function updateNewItemDatalists() {
      nameList.innerHTML = '';
      categoryList.innerHTML = '';
      const names = new Set(inventory.map(item => item.name));
      const categories = new Set(inventory.map(item => item.category));
      names.forEach(n => {
        const option = document.createElement('option');
        option.value = n;
        nameList.appendChild(option);
      });
      categories.forEach(c => {
        const option = document.createElement('option');
        option.value = c;
        categoryList.appendChild(option);
      });
    }
    
    // Function to upload image to imgbb and return a promise that resolves with the URL
    function uploadImageToImgbb(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = async (e) => {
          const base64 = e.target.result.split(',')[1]; // remove data prefix
          try {
            const formData = new URLSearchParams();
            formData.append('key', '3f1b77bcc1d4b241c00c5c3f27216041');
            formData.append('image', base64);
            const response = await fetch('https://api.imgbb.com/1/upload', {
              method: 'POST',
              body: formData
            });
            const result = await response.json();
            if (result.success) {
              resolve(result.data.display_url);
            } else {
              reject(result.error);
            }
          } catch (err) {
            reject(err);
          }
        };
        reader.onerror = err => reject(err);
        reader.readAsDataURL(file);
      });
    }
    
    // New Item Tab: Add new item with image upload using imgbb
    btnNewAdd.addEventListener('click', () => {
      const name = newName.value.trim();
      const category = newCategory.value.trim();
      const qty = parseInt(newQty.value);
      if (name === '' || category === '' || isNaN(qty) || qty < 1) {
        alert('Please fill in all fields correctly.');
        return;
      }
      if (isDuplicateItem(name)) {
        alert('An item with that name already exists.');
        return;
      }
      const addItemToLocal = (imageUrl) => {
        const newItem = { id: nextId++, name, category, quantity: qty, image: imageUrl };
        inventory.push(newItem);
        newName.value = '';
        newCategory.value = '';
        newQty.value = '1';
        newImage.value = '';
        renderCategoryTabs();
        updateInventoryDisplay();
        updateInOutCategories();
        updateInOutItems();
        updateNewItemDatalists();
      };
      const file = newImage.files[0];
      if (file) {
        uploadImageToImgbb(file)
          .then(url => { addItemToLocal(url); })
          .catch(err => { alert('Image upload failed.'); console.error(err); });
      } else {
        addItemToLocal('');
      }
    });
    
    // In/Out Items Tab: Update Category dropdown
    function updateInOutCategories() {
      inoutCategorySelect.innerHTML = '';
      const categories = new Set(inventory.map(item => item.category));
      if (categories.size === 0) {
        const opt = document.createElement('option');
        opt.value = '';
        opt.textContent = 'No categories available';
        inoutCategorySelect.appendChild(opt);
        return;
      }
      categories.forEach(cat => {
        const opt = document.createElement('option');
        opt.value = cat;
        opt.textContent = cat;
        inoutCategorySelect.appendChild(opt);
      });
      inoutCategorySelect.selectedIndex = 0;
    }
    
    // In/Out Items Tab: Update Items dropdown based on selected category
    function updateInOutItems() {
      inoutItemSelect.innerHTML = '';
      const selectedCategory = inoutCategorySelect.value;
      const items = inventory.filter(item => item.category === selectedCategory);
      if (items.length === 0) {
        const opt = document.createElement('option');
        opt.value = '';
        opt.textContent = 'No items available';
        inoutItemSelect.appendChild(opt);
        return;
      }
      items.forEach(item => {
        const opt = document.createElement('option');
        opt.value = item.id;
        opt.textContent = item.name;
        inoutItemSelect.appendChild(opt);
      });
    }
    
    // Listen for category change in In/Out tab
    inoutCategorySelect.addEventListener('change', updateInOutItems);
    
    // In/Out Items Tab: Increase quantity
    btnAdd.addEventListener('click', () => {
      const itemId = parseInt(inoutItemSelect.value);
      const qty = parseInt(inoutQty.value);
      if (isNaN(itemId) || isNaN(qty) || qty < 1) return;
      const item = inventory.find(i => i.id === itemId);
      if (item) {
        item.quantity += qty;
        updateInventoryDisplay();
      }
    });
    
    // In/Out Items Tab: Decrease quantity
    btnRemove.addEventListener('click', () => {
      const itemId = parseInt(inoutItemSelect.value);
      const qty = parseInt(inoutQty.value);
      if (isNaN(itemId) || isNaN(qty) || qty < 1) return;
      const item = inventory.find(i => i.id === itemId);
      if (item) {
        item.quantity = Math.max(0, item.quantity - qty);
        updateInventoryDisplay();
      }
    });
    
    // Inventory Tab: Render Category Sub-Tabs
    function renderCategoryTabs() {
      categoryTabsDiv.innerHTML = '';
      const categories = new Set(inventory.map(item => item.category));
      const tabsArr = ["All", ...categories];
      tabsArr.forEach(cat => {
        const tab = document.createElement('div');
        tab.className = 'category-tab';
        if (cat === activeCategoryTab) tab.classList.add('active');
        tab.textContent = cat;
        tab.addEventListener('click', () => {
          activeCategoryTab = cat;
          renderCategoryTabs();
          updateInventoryDisplay();
        });
        categoryTabsDiv.appendChild(tab);
      });
    }
    
    // Inventory Tab: Update Inventory Display as Cards, filtered by active category
    function updateInventoryDisplay() {
      inventoryListDiv.innerHTML = '';
      let itemsToDisplay = inventory;
      if (activeCategoryTab !== "All") {
        itemsToDisplay = inventory.filter(item => item.category === activeCategoryTab);
      }
      if (itemsToDisplay.length === 0) {
        inventoryListDiv.innerHTML = '<p class="error-message">No items in this category.</p>';
        return;
      }
      itemsToDisplay.forEach(item => {
        const card = document.createElement('div');
        card.className = 'inventory-card';
        let html = '';
        if (item.image) {
          html += `<img src="${item.image}" alt="${item.name}">`;
        }
        html += `<h3>${item.name}</h3><p>Category: ${item.category}</p><p>Quantity: ${item.quantity}</p>`;
        card.innerHTML = html;
        // Add card actions for edit and remove
        const actionsDiv = document.createElement('div');
        actionsDiv.className = 'card-actions';
        const editBtn = document.createElement('button');
        editBtn.textContent = '✏️';
        editBtn.title = 'Edit Item';
        editBtn.addEventListener('click', () => openEditModal(item.id));
        const removeBtn = document.createElement('button');
        removeBtn.textContent = '🗑️';
        removeBtn.title = 'Remove Item';
        removeBtn.addEventListener('click', () => openConfirmModal(item.id, item.name));
        actionsDiv.appendChild(editBtn);
        actionsDiv.appendChild(removeBtn);
        card.insertAdjacentElement('afterbegin', actionsDiv);
        inventoryListDiv.appendChild(card);
      });
    }
    
    // Confirmation Modal for Removal
    function openConfirmModal(itemId, itemName) {
      currentRemoveId = itemId;
      confirmMessage.textContent = `Are you sure you want to remove "${itemName}"?`;
      confirmModal.classList.add('active');
    }
    
    confirmOk.addEventListener('click', () => {
      if (currentRemoveId !== null) {
        inventory = inventory.filter(i => i.id !== currentRemoveId);
        updateInventoryDisplay();
        updateInOutCategories();
        updateInOutItems();
        updateNewItemDatalists();
        currentRemoveId = null;
      }
      confirmModal.classList.remove('active');
    });
    
    confirmCancel.addEventListener('click', () => {
      currentRemoveId = null;
      confirmModal.classList.remove('active');
    });
    
    // Edit Modal for Editing an Item (Name & Category Only)
    function openEditModal(itemId) {
      currentEditId = itemId;
      const item = inventory.find(i => i.id === itemId);
      if (!item) return;
      editName.value = item.name;
      editCategory.value = item.category;
      editModal.classList.add('active');
    }
    
    editSave.addEventListener('click', () => {
      const newNameVal = editName.value.trim();
      const newCategoryVal = editCategory.value.trim();
      if (newNameVal === '' || newCategoryVal === '') {
        alert('Please fill in all fields correctly.');
        return;
      }
      // Prevent duplicate names (if changed)
      const duplicate = inventory.find(i => i.name.toLowerCase() === newNameVal.toLowerCase() && i.id !== currentEditId);
      if (duplicate) {
        alert('Another item with that name already exists.');
        return;
      }
      const item = inventory.find(i => i.id === currentEditId);
      if (item) {
        item.name = newNameVal;
        item.category = newCategoryVal;
      }
      editModal.classList.remove('active');
      currentEditId = null;
      renderCategoryTabs();
      updateInventoryDisplay();
      updateInOutCategories();
      updateInOutItems();
      updateNewItemDatalists();
    });
    
    editCancel.addEventListener('click', () => {
      currentEditId = null;
      editModal.classList.remove('active');
    });
    
    // Initialize display on page load
    renderCategoryTabs();
    updateInOutCategories();
    updateInOutItems();
    updateInventoryDisplay();
    updateNewItemDatalists();
  </script>
</body>
</html>
